(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var Point = (function () {
    function Point(x, y) {
        this.x = x;
        this.y = y;
    }
    Point.prototype.add = function (point) {
        this.x += point.x;
        this.y += point.y;
    };
    return Point;
}());
var Vector = (function (_super) {
    __extends(Vector, _super);
    function Vector() {
        _super.apply(this, arguments);
    }
    Vector.prototype.flipX = function () {
        this.x *= -1;
    };
    Vector.prototype.flipY = function () {
        this.y *= -1;
    };
    return Vector;
}(Point));
var Rect = (function () {
    function Rect(left, top, right, bottom) {
        this.topLeft = new Point(left, top);
        this.bottomRight = new Point(right, bottom);
    }
    Rect.prototype.clone = function () {
        return new Rect(this.topLeft.x, this.topLeft.y, this.bottomRight.x, this.bottomRight.y);
    };
    Rect.prototype.add = function (point) {
        this.topLeft.add(point);
        this.bottomRight.add(point);
    };
    Rect.prototype.moveTo = function (rect) {
        this.topLeft.x = rect.topLeft.x;
        this.topLeft.y = rect.topLeft.y;
        this.bottomRight.x = rect.bottomRight.x;
        this.bottomRight.y = rect.bottomRight.y;
    };
    Rect.prototype.moveCenterXTo = function (centerX) {
        var left = centerX - this.width() / 2;
        var right = left + this.width();
        this.topLeft.x = left;
        this.bottomRight.x = right;
    };
    Rect.prototype.moveBottomTo = function (bottom) {
        this.topLeft.y = bottom - this.height();
        this.bottomRight.y = bottom;
    };
    Rect.prototype.width = function () {
        return this.bottomRight.x - this.topLeft.x;
    };
    Rect.prototype.height = function () {
        return this.bottomRight.y - this.topLeft.y;
    };
    Rect.prototype.centerX = function () {
        return (this.topLeft.x + this.bottomRight.x) / 2;
    };
    Rect.prototype.centerY = function () {
        return (this.topLeft.y + this.bottomRight.y) / 2;
    };
    Rect.prototype.moveLeft = function (step) {
        this.topLeft.x -= step;
        this.bottomRight.x -= step;
    };
    Rect.prototype.moveRight = function (step) {
        this.topLeft.x += step;
        this.bottomRight.x += step;
    };
    return Rect;
}());
var Side;
(function (Side) {
    Side[Side["None"] = 0] = "None";
    Side[Side["Left"] = 1] = "Left";
    Side[Side["Top"] = 2] = "Top";
    Side[Side["Right"] = 3] = "Right";
    Side[Side["Bottom"] = 4] = "Bottom";
})(Side || (Side = {}));
var Obstacle = (function (_super) {
    __extends(Obstacle, _super);
    function Obstacle() {
        _super.apply(this, arguments);
    }
    Obstacle.prototype.checkCollision = function (anotherRect) {
        var w = 0.5 * (this.width() + anotherRect.width());
        var h = 0.5 * (this.height() + anotherRect.height());
        var dx = this.centerX() - anotherRect.centerX();
        var dy = this.centerY() - anotherRect.centerY();
        if (Math.abs(dx) <= w && Math.abs(dy) <= h) {
            var wy = w * dy;
            var hx = h * dx;
            if (wy > hx) {
                return wy > -hx ? Side.Top : Side.Left;
            }
            else {
                return wy > -hx ? Side.Right : Side.Bottom;
            }
        }
        else {
            return Side.None;
        }
    };
    return Obstacle;
}(Rect));
var Sprite = (function (_super) {
    __extends(Sprite, _super);
    function Sprite(sprite, left, top, right, bottom) {
        bottom = bottom || sprite.offsetTop + sprite.offsetHeight;
        right = right || sprite.offsetLeft + sprite.offsetWidth;
        top = top || sprite.offsetTop;
        left = left || sprite.offsetLeft;
        _super.call(this, left, top, right, bottom);
        this.sprite = sprite;
        this.isVisible = true;
    }
    Sprite.prototype.moveTo = function (rect) {
        _super.prototype.moveTo.call(this, rect);
        var _a = this.topLeft, posX = _a.x, posY = _a.y;
        this.sprite.style.left = posX + 'px';
        this.sprite.style.top = posY + 'px';
    };
    Sprite.prototype.hide = function () {
        this.sprite.style.display = 'none';
        this.isVisible = false;
    };
    Sprite.prototype.show = function () {
        this.sprite.style.display = 'block';
        this.isVisible = true;
    };
    Sprite.prototype.checkCollision = function (anotherRect) {
        if (!this.isVisible) {
            return Side.None;
        }
        return _super.prototype.checkCollision.call(this, anotherRect);
    };
    return Sprite;
}(Obstacle));
var Ball = (function (_super) {
    __extends(Ball, _super);
    function Ball(sprite, dir) {
        var radius = parseInt(getComputedStyle(sprite)['border-top-left-radius']);
        _super.call(this, sprite, sprite.offsetLeft, sprite.offsetTop, sprite.offsetLeft + 2 * radius, sprite.offsetTop + 2 * radius);
        this.sprite = sprite;
        this.radius = radius;
        this.velocity = 5;
        this.dir = dir;
    }
    Ball.prototype.calculateNewPosition = function () {
        var newPosition = this.clone();
        newPosition.add(this.dir);
        return newPosition;
    };
    Ball.prototype.bounceHorizontal = function () {
        this.dir.flipY();
    };
    Ball.prototype.bounceVertical = function () {
        this.dir.flipX();
    };
    Ball.prototype.bounceWithAngle = function (angle) {
        angle = angle * (Math.PI / 180);
        this.dir.x = Math.cos(angle) * this.velocity;
        this.dir.y = -Math.sin(angle) * this.velocity;
    };
    return Ball;
}(Sprite));
var Paddle = (function (_super) {
    __extends(Paddle, _super);
    function Paddle(sprite, maxRight) {
        _super.call(this, sprite);
        this.maxRight = maxRight;
    }
    Paddle.prototype.moveLeft = function (step) {
        var newPosition = this.clone();
        newPosition.moveLeft(step);
        if (newPosition.topLeft.x >= 0) {
            this.moveTo(newPosition);
        }
    };
    Paddle.prototype.moveRight = function (step) {
        var newPosition = this.clone();
        newPosition.moveRight(step);
        if (newPosition.bottomRight.x <= this.maxRight) {
            this.moveTo(newPosition);
        }
    };
    Paddle.prototype.calculateHitAngle = function (ballX, ballRadius) {
        var hitSpot = ballX - this.topLeft.x;
        var maxPaddle = this.width() + ballRadius;
        var minPaddle = -ballRadius;
        var paddleRange = maxPaddle - minPaddle;
        var minAngle = 135;
        var maxAngle = 45;
        var angleRange = maxAngle - minAngle;
        return ((hitSpot * angleRange) / paddleRange) + minAngle;
    };
    return Paddle;
}(Sprite));
var Brick = (function (_super) {
    __extends(Brick, _super);
    function Brick() {
        _super.apply(this, arguments);
    }
    return Brick;
}(Sprite));
var HardBrick = (function (_super) {
    __extends(HardBrick, _super);
    function HardBrick(harBrick) {
        _super.call(this, harBrick);
        this.hitCount = 0;
    }
    return HardBrick;
}(Brick));
var GameState;
(function (GameState) {
    GameState[GameState["Running"] = 0] = "Running";
    GameState[GameState["GameOver"] = 1] = "GameOver";
})(GameState || (GameState = {}));
var KeyCodes;
(function (KeyCodes) {
    KeyCodes[KeyCodes["LEFT"] = 37] = "LEFT";
    KeyCodes[KeyCodes["RIGHT"] = 39] = "RIGHT";
})(KeyCodes || (KeyCodes = {}));
var Game = (function () {
    function Game(ballElement, paddle, bricks, hardBricks, boardElement, livesLabel, scoreLabel, newGameBtn) {
        var _this = this;
        this.livesLabel = livesLabel;
        this.scoreLabel = scoreLabel;
        this.newGameBtn = newGameBtn;
        this.loopInterval = 10;
        this.bricks = [];
        this.hardBricks = [];
        this.keyMap = {};
        this.gameState = GameState.Running;
        this.paddle = new Paddle(paddle, boardElement.offsetWidth);
        this.ball = new Ball(ballElement, new Vector(3, -3));
        for (var i = 0; i < bricks.length; i++) {
            this.bricks.push(new Brick(bricks[i]));
        }
        for (var i = 0; i < hardBricks.length; i++) {
            this.hardBricks.push(new HardBrick(hardBricks[i]));
        }
        this.createWalls(this.ball.radius, boardElement.offsetWidth, boardElement.offsetHeight);
        this.newGame();
        this.newGameBtn.addEventListener('click', function () { return _this.newGame(); });
    }
    Game.prototype.createWalls = function (radius, maxX, maxY) {
        this.wallLeft = new Obstacle(-radius, -radius, 0, maxY + radius);
        this.wallTop = new Obstacle(-radius, -radius, maxX + radius, 0);
        this.wallRight = new Obstacle(maxX, -radius, maxX + radius, maxY + radius);
        this.wallBottom = new Obstacle(-radius, maxY, maxX + radius, maxY + radius);
    };
    Game.prototype.newGame = function () {
        this.newGameBtn.style.display = 'none';
        this.score = 0;
        this.livesLeft = 3;
        this.livesLabel.innerText = '' + this.livesLeft;
        this.score = 0;
        this.scoreLabel.innerText = '' + this.score;
        this.ball.show();
        this.ball.bounceWithAngle(60);
        var ballPosition = this.ball.clone();
        ballPosition.moveCenterXTo(this.paddle.centerX());
        ballPosition.moveBottomTo(this.paddle.topLeft.y - 4);
        this.ball.moveTo(ballPosition);
        this.gameState = GameState.Running;
    };
    Game.prototype.lostLive = function () {
        if (--this.livesLeft) {
            this.ball.bounceWithAngle(60);
            var ballPosition = this.ball.clone();
            ballPosition.moveCenterXTo(this.paddle.centerX());
            ballPosition.moveBottomTo(this.paddle.topLeft.y - 4);
            this.ball.moveTo(ballPosition);
        }
        else {
            this.gameState = GameState.GameOver;
            this.ball.hide();
            this.newGameBtn.style.display = 'block';
        }
        this.livesLabel.innerText = '' + this.livesLeft;
    };
    Game.prototype.run = function () {
        var _this = this;
        document.addEventListener('keyup', function (e) { return _this.keyMap[e.keyCode] = false; });
        document.addEventListener('keydown', function (e) { return _this.keyMap[e.keyCode] = true; });
        for (var _i = 0, _a = this.hardBricks; _i < _a.length; _i++) {
            var hBrick = _a[_i];
            console.log(hBrick);
        }
        setInterval(function () {
            if (_this.gameState !== GameState.Running) {
                return;
            }
            var newBallPosition = _this.ball.calculateNewPosition();
            if (_this.keyMap[KeyCodes.LEFT]) {
                _this.paddle.moveLeft(5);
            }
            else if (_this.keyMap[KeyCodes.RIGHT]) {
                _this.paddle.moveRight(5);
            }
            if (_this.wallBottom.checkCollision(newBallPosition)) {
                _this.lostLive();
                return;
            }
            if (_this.wallLeft.checkCollision(newBallPosition) || _this.wallRight.checkCollision(newBallPosition)) {
                _this.ball.bounceVertical();
            }
            if (_this.wallTop.checkCollision(newBallPosition)) {
                _this.ball.bounceHorizontal();
            }
            for (var _i = 0, _a = _this.bricks; _i < _a.length; _i++) {
                var brick = _a[_i];
                var wasHit = false;
                switch (brick.checkCollision(newBallPosition)) {
                    case (Side.Left):
                    case (Side.Right):
                        _this.ball.bounceVertical();
                        wasHit = true;
                        break;
                    case (Side.Top):
                    case (Side.Bottom):
                        _this.ball.bounceHorizontal();
                        wasHit = true;
                }
                if (wasHit) {
                    brick.hide();
                    _this.score += 20;
                    _this.scoreLabel.innerText = '' + _this.score;
                    break;
                }
            }
            for (var _b = 0, _c = _this.hardBricks; _b < _c.length; _b++) {
                var hBrick = _c[_b];
                switch (hBrick.checkCollision(newBallPosition)) {
                    case (Side.Left):
                    case (Side.Right):
                        _this.ball.bounceVertical();
                        _this.score += 20;
                        hBrick.hitCount++;
                        break;
                    case (Side.Top):
                    case (Side.Bottom):
                        _this.ball.bounceHorizontal();
                        _this.score += 20;
                        hBrick.hitCount++;
                }
                if (hBrick.hitCount === 1) {
                    hBrick.sprite.style.opacity = "0.5";
                    _this.scoreLabel.innerText = '' + _this.score;
                }
                if (hBrick.hitCount === 2) {
                    hBrick.hide();
                    _this.scoreLabel.innerText = '' + _this.score;
                }
            }
            if (_this.paddle.checkCollision(newBallPosition)) {
                _this.ball.bounceWithAngle(_this.paddle.calculateHitAngle(_this.ball.centerX(), _this.ball.radius));
            }
            _this.ball.moveTo(_this.ball.calculateNewPosition());
        }, this.loopInterval);
    };
    return Game;
}());
console.log('Hello from BrickBuster !!!');
var game = new Game(document.getElementsByClassName("ball")[0], document.getElementsByClassName("paddle")[0], document.getElementsByClassName("brick"), document.getElementsByClassName("hard-brick"), document.getElementsByClassName("game-board")[0], document.getElementById('lives'), document.getElementById('score'), document.getElementById('newGame'));
game.run();
},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHBsaWNhdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0FDQUE7SUFHSSxlQUFZLENBQVUsRUFBRSxDQUFTO1FBQzdCLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ1gsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDZixDQUFDO0lBRUQsbUJBQUcsR0FBSCxVQUFJLEtBQVk7UUFDWixJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDbEIsSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ3RCLENBQUM7SUFDTCxZQUFDO0FBQUQsQ0FaQSxBQVlDLElBQUE7QUFFRDtJQUFxQiwwQkFBSztJQUExQjtRQUFxQiw4QkFBSztJQVExQixDQUFDO0lBUEcsc0JBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDakIsQ0FBQztJQUVELHNCQUFLLEdBQUw7UUFDSSxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ2pCLENBQUM7SUFDTCxhQUFDO0FBQUQsQ0FSQSxBQVFDLENBUm9CLEtBQUssR0FRekI7QUFFRDtJQUlJLGNBQVksSUFBYSxFQUFFLEdBQVcsRUFBRSxLQUFhLEVBQUUsTUFBYztRQUNqRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksS0FBSyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNwQyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksS0FBSyxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQztJQUNoRCxDQUFDO0lBRUQsb0JBQUssR0FBTDtRQUNJLE1BQU0sQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENB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QUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFJLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDLEtBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEVBQUUsS0FBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ3BHLENBQUM7WUFFRCxLQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFJLENBQUMsSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUMsQ0FBQztRQUN4RCxDQUFDLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFBO0lBQ3hCLENBQUM7SUFDTCxXQUFDO0FBQUQsQ0FsTEEsQUFrTEMsSUFBQTtBQUVELE9BQU8sQ0FBQyxHQUFHLENBQUMsNEJBQTRCLENBQUMsQ0FBQztBQUUxQyxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FDRixRQUFRLENBQUMsc0JBQXNCLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQzFDLFFBQVEsQ0FBQyxzQkFBc0IsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDekMsUUFBUSxDQUFDLHNCQUFzQixDQUFDLE9BQU8sQ0FBQyxFQUN4QyxRQUFRLENBQUMsc0JBQXNCLENBQUMsWUFBWSxDQUFDLEVBQ2hELFFBQVEsQ0FBQyxzQkFBc0IsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDaEQsUUFBUSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsRUFDaEMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsRUFDaEMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsQ0FDbEQsQ0FBQztBQUVGLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJjbGFzcyBQb2ludCB7XHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbiAgICBjb25zdHJ1Y3Rvcih4IDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkKHBvaW50OiBQb2ludCkge1xyXG4gICAgICAgIHRoaXMueCArPSBwb2ludC54O1xyXG4gICAgICAgIHRoaXMueSArPSBwb2ludC55O1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBWZWN0b3IgZXh0ZW5kcyBQb2ludCB7XHJcbiAgICBmbGlwWCgpIHtcclxuICAgICAgICB0aGlzLnggKj0gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgZmxpcFkoKSB7XHJcbiAgICAgICAgdGhpcy55ICo9IC0xO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBSZWN0IHtcclxuICAgIHRvcExlZnQgOiBQb2ludDtcclxuICAgIGJvdHRvbVJpZ2h0IDogUG9pbnQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IobGVmdCA6IG51bWJlciwgdG9wOiBudW1iZXIsIHJpZ2h0OiBudW1iZXIsIGJvdHRvbTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy50b3BMZWZ0ID0gbmV3IFBvaW50KGxlZnQsIHRvcCk7XHJcbiAgICAgICAgdGhpcy5ib3R0b21SaWdodCA9IG5ldyBQb2ludChyaWdodCwgYm90dG9tKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9uZSgpIDogUmVjdCB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSZWN0KHRoaXMudG9wTGVmdC54LCB0aGlzLnRvcExlZnQueSwgdGhpcy5ib3R0b21SaWdodC54LCB0aGlzLmJvdHRvbVJpZ2h0LnkpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZChwb2ludDogUG9pbnQpIHtcclxuICAgICAgICB0aGlzLnRvcExlZnQuYWRkKHBvaW50KTtcclxuICAgICAgICB0aGlzLmJvdHRvbVJpZ2h0LmFkZChwb2ludCk7XHJcbiAgICB9XHJcblxyXG4gICAgbW92ZVRvKHJlY3Q6IFJlY3QpIHtcclxuICAgICAgICB0aGlzLnRvcExlZnQueCA9IHJlY3QudG9wTGVmdC54O1xyXG4gICAgICAgIHRoaXMudG9wTGVmdC55ID0gcmVjdC50b3BMZWZ0Lnk7XHJcbiAgICAgICAgdGhpcy5ib3R0b21SaWdodC54ID0gcmVjdC5ib3R0b21SaWdodC54O1xyXG4gICAgICAgIHRoaXMuYm90dG9tUmlnaHQueSA9IHJlY3QuYm90dG9tUmlnaHQueTtcclxuICAgIH1cclxuXHJcbiAgICBtb3ZlQ2VudGVyWFRvKGNlbnRlclggOiBudW1iZXIpIHtcclxuICAgICAgICB2YXIgbGVmdCA9IGNlbnRlclggLSB0aGlzLndpZHRoKCkgLyAyO1xyXG4gICAgICAgIHZhciByaWdodCA9IGxlZnQgKyB0aGlzLndpZHRoKCk7XHJcbiAgICAgICAgdGhpcy50b3BMZWZ0LnggPSBsZWZ0O1xyXG4gICAgICAgIHRoaXMuYm90dG9tUmlnaHQueCA9IHJpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIG1vdmVCb3R0b21Ubyhib3R0b206IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMudG9wTGVmdC55ID0gYm90dG9tIC0gdGhpcy5oZWlnaHQoKTtcclxuICAgICAgICB0aGlzLmJvdHRvbVJpZ2h0LnkgPSBib3R0b207IFxyXG4gICAgfVxyXG5cclxuICAgIHdpZHRoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJvdHRvbVJpZ2h0LnggLSB0aGlzLnRvcExlZnQueDtcclxuICAgIH1cclxuXHJcbiAgICBoZWlnaHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYm90dG9tUmlnaHQueSAtIHRoaXMudG9wTGVmdC55O1xyXG4gICAgfVxyXG5cclxuICAgIGNlbnRlclgoKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLnRvcExlZnQueCArIHRoaXMuYm90dG9tUmlnaHQueCkgLyAyO1xyXG4gICAgfVxyXG5cclxuICAgIGNlbnRlclkoKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLnRvcExlZnQueSArIHRoaXMuYm90dG9tUmlnaHQueSkgLyAyO1xyXG4gICAgfVxyXG5cclxuICAgIG1vdmVMZWZ0KHN0ZXA6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMudG9wTGVmdC54IC09IHN0ZXA7XHJcbiAgICAgICAgdGhpcy5ib3R0b21SaWdodC54IC09IHN0ZXA7XHJcbiAgICB9XHJcblxyXG4gICAgbW92ZVJpZ2h0KHN0ZXA6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMudG9wTGVmdC54ICs9IHN0ZXA7XHJcbiAgICAgICAgdGhpcy5ib3R0b21SaWdodC54ICs9IHN0ZXA7XHJcbiAgICB9XHJcbn1cclxuXHJcbmVudW0gU2lkZSB7XHJcbiAgICBOb25lLFxyXG4gICAgTGVmdCxcclxuICAgIFRvcCxcclxuICAgIFJpZ2h0LCBcclxuICAgIEJvdHRvbVxyXG59XHJcblxyXG5jbGFzcyBPYnN0YWNsZSBleHRlbmRzIFJlY3Qge1xyXG4gICAgY2hlY2tDb2xsaXNpb24oYW5vdGhlclJlY3QgOiBSZWN0KSA6IFNpZGUge1xyXG4gICAgICAgIHZhciB3ID0gMC41ICogKHRoaXMud2lkdGgoKSArIGFub3RoZXJSZWN0LndpZHRoKCkpO1xyXG4gICAgICAgIHZhciBoID0gMC41ICogKHRoaXMuaGVpZ2h0KCkgKyBhbm90aGVyUmVjdC5oZWlnaHQoKSk7XHJcbiAgICAgICAgdmFyIGR4ID0gdGhpcy5jZW50ZXJYKCkgLSBhbm90aGVyUmVjdC5jZW50ZXJYKCk7XHJcbiAgICAgICAgdmFyIGR5ID0gdGhpcy5jZW50ZXJZKCkgLSBhbm90aGVyUmVjdC5jZW50ZXJZKCk7XHJcblxyXG4gICAgICAgIGlmIChNYXRoLmFicyhkeCkgPD0gdyAmJiBNYXRoLmFicyhkeSkgPD0gaCkge1xyXG4gICAgICAgICAgICB2YXIgd3kgPSB3ICogZHk7XHJcbiAgICAgICAgICAgIHZhciBoeCA9IGggKiBkeDtcclxuICAgICAgICAgICAgaWYgKHd5ID4gaHgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB3eSA+IC1oeCA/IFNpZGUuVG9wIDogU2lkZS5MZWZ0O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHd5ID4gLWh4ID8gU2lkZS5SaWdodCA6IFNpZGUuQm90dG9tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIFNpZGUuTm9uZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFNwcml0ZSBleHRlbmRzIE9ic3RhY2xlIHtcclxuICAgIHNwcml0ZTogSFRNTEVsZW1lbnQ7XHJcbiAgICBpc1Zpc2libGU6IEJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc3ByaXRlOiBIVE1MRWxlbWVudCwgbGVmdD8gOiBudW1iZXIsIHRvcD86IG51bWJlciwgcmlnaHQ/OiBudW1iZXIsIGJvdHRvbT86IG51bWJlcikge1xyXG4gICAgICAgIGJvdHRvbSA9IGJvdHRvbSB8fCBzcHJpdGUub2Zmc2V0VG9wICsgc3ByaXRlLm9mZnNldEhlaWdodDtcclxuICAgICAgICByaWdodCA9IHJpZ2h0IHx8IHNwcml0ZS5vZmZzZXRMZWZ0ICsgc3ByaXRlLm9mZnNldFdpZHRoO1xyXG4gICAgICAgIHRvcCA9IHRvcCB8fCBzcHJpdGUub2Zmc2V0VG9wO1xyXG4gICAgICAgIGxlZnQgPSBsZWZ0IHx8IHNwcml0ZS5vZmZzZXRMZWZ0O1xyXG5cclxuICAgICAgICBzdXBlcihsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b20pO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gc3ByaXRlO1xyXG4gICAgICAgIHRoaXMuaXNWaXNpYmxlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBtb3ZlVG8ocmVjdCA6IFJlY3QpIHtcclxuICAgICAgICBzdXBlci5tb3ZlVG8ocmVjdCk7XHJcblxyXG4gICAgICAgIGxldCB7eDogcG9zWCwgeTogcG9zWX0gPSB0aGlzLnRvcExlZnQ7XHJcblxyXG5cdCAgICB0aGlzLnNwcml0ZS5zdHlsZS5sZWZ0ID0gcG9zWCArICdweCc7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc3R5bGUudG9wID0gcG9zWSArICdweCc7ICAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgaGlkZSgpIHtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIHRoaXMuaXNWaXNpYmxlID0gZmFsc2U7XHJcbiAgICB9ICAgIFxyXG5cclxuICAgIHNob3coKSB7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSB0cnVlO1xyXG4gICAgfSAgICBcclxuXHJcbiAgICBjaGVja0NvbGxpc2lvbihhbm90aGVyUmVjdCA6IFJlY3QpIDogU2lkZSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzVmlzaWJsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gU2lkZS5Ob25lO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3VwZXIuY2hlY2tDb2xsaXNpb24oYW5vdGhlclJlY3QpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBCYWxsIGV4dGVuZHMgU3ByaXRlIHtcclxuXHJcbiAgICByYWRpdXMgOiBudW1iZXI7XHJcbiAgICBkaXIgIDogVmVjdG9yO1xyXG4gICAgdmVsb2NpdHk6IG51bWJlcjtcclxuXHJcbiAgICB3YWxsTGVmdCA6IE9ic3RhY2xlO1xyXG4gICAgd2FsbFRvcDogT2JzdGFjbGU7XHJcbiAgICB3YWxsUmlnaHQ6IE9ic3RhY2xlO1xyXG4gICAgd2FsbEJvdHRvbTogT2JzdGFjbGU7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc3ByaXRlOiBIVE1MRWxlbWVudCwgZGlyIDogVmVjdG9yKSB7XHJcbiAgICAgICAgdmFyIHJhZGl1cyA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoc3ByaXRlKVsnYm9yZGVyLXRvcC1sZWZ0LXJhZGl1cyddKTtcclxuICAgICAgICBzdXBlcihzcHJpdGUsIHNwcml0ZS5vZmZzZXRMZWZ0LCBzcHJpdGUub2Zmc2V0VG9wLCBzcHJpdGUub2Zmc2V0TGVmdCArIDIgKiByYWRpdXMsIHNwcml0ZS5vZmZzZXRUb3AgKyAyICogcmFkaXVzKTtcclxuICAgICAgICB0aGlzLnNwcml0ZSA9IHNwcml0ZTtcclxuICAgICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcclxuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gNTsgICAgICAgIFxyXG4gICAgICAgIHRoaXMuZGlyID0gZGlyOyAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgY2FsY3VsYXRlTmV3UG9zaXRpb24oKSA6IFJlY3Qge1xyXG4gICAgICAgIHZhciBuZXdQb3NpdGlvbiA9IHRoaXMuY2xvbmUoKTtcclxuICAgICAgICBuZXdQb3NpdGlvbi5hZGQodGhpcy5kaXIpO1xyXG4gICAgICAgIHJldHVybiBuZXdQb3NpdGlvbjsgICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGJvdW5jZUhvcml6b250YWwoKSB7XHJcbiAgICAgICAgdGhpcy5kaXIuZmxpcFkoKTtcclxuICAgIH1cclxuXHJcbiAgICBib3VuY2VWZXJ0aWNhbCgpIHtcclxuICAgICAgICB0aGlzLmRpci5mbGlwWCgpO1xyXG4gICAgfSBcclxuXHJcbiAgICBib3VuY2VXaXRoQW5nbGUoYW5nbGU6IG51bWJlcikge1xyXG4gICAgICAgIGFuZ2xlID0gYW5nbGUgKiAoTWF0aC5QSSAvIDE4MCk7XHJcbiAgICAgICAgdGhpcy5kaXIueCA9IE1hdGguY29zKGFuZ2xlKSAqIHRoaXMudmVsb2NpdHk7XHJcbiAgICAgICAgdGhpcy5kaXIueSA9IC1NYXRoLnNpbihhbmdsZSkgKiB0aGlzLnZlbG9jaXR5O1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBQYWRkbGUgZXh0ZW5kcyBTcHJpdGUge1xyXG4gICAgY29uc3RydWN0b3Ioc3ByaXRlOiBIVE1MRWxlbWVudCwgcHVibGljIG1heFJpZ2h0IDogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIoc3ByaXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBtb3ZlTGVmdChzdGVwPzogbnVtYmVyKSB7XHJcbiAgICAgICAgdmFyIG5ld1Bvc2l0aW9uID0gdGhpcy5jbG9uZSgpO1xyXG4gICAgICAgIG5ld1Bvc2l0aW9uLm1vdmVMZWZ0KHN0ZXApO1xyXG5cclxuICAgICAgICBpZiAobmV3UG9zaXRpb24udG9wTGVmdC54ID49IDApIHtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlVG8obmV3UG9zaXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBtb3ZlUmlnaHQoc3RlcD8gOiBudW1iZXIpIHtcclxuICAgICAgICB2YXIgbmV3UG9zaXRpb24gPSB0aGlzLmNsb25lKCk7XHJcbiAgICAgICAgbmV3UG9zaXRpb24ubW92ZVJpZ2h0KHN0ZXApO1xyXG5cclxuICAgICAgICBpZiAobmV3UG9zaXRpb24uYm90dG9tUmlnaHQueCA8PSB0aGlzLm1heFJpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKG5ld1Bvc2l0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2FsY3VsYXRlSGl0QW5nbGUoYmFsbFggOiBudW1iZXIsIGJhbGxSYWRpdXMgOiBudW1iZXIpIDogbnVtYmVyIHtcclxuICAgICAgICB2YXIgaGl0U3BvdCA9IGJhbGxYIC0gdGhpcy50b3BMZWZ0Lng7XHJcbiAgICAgICAgdmFyIG1heFBhZGRsZSA9IHRoaXMud2lkdGgoKSArIGJhbGxSYWRpdXM7XHJcbiAgICAgICAgdmFyIG1pblBhZGRsZSA9IC1iYWxsUmFkaXVzO1xyXG4gICAgICAgIHZhciBwYWRkbGVSYW5nZSA9IG1heFBhZGRsZSAtIG1pblBhZGRsZTtcclxuXHJcbiAgICAgICAgdmFyIG1pbkFuZ2xlID0gMTM1O1xyXG4gICAgICAgIHZhciBtYXhBbmdsZSA9IDQ1O1xyXG4gICAgICAgIHZhciBhbmdsZVJhbmdlID0gbWF4QW5nbGUgLSBtaW5BbmdsZTtcclxuXHJcbiAgICAgICAgcmV0dXJuICgoaGl0U3BvdCAqIGFuZ2xlUmFuZ2UpIC8gcGFkZGxlUmFuZ2UpICsgbWluQW5nbGU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEJyaWNrIGV4dGVuZHMgU3ByaXRlIHtcclxuXHJcbn1cclxuXHJcbmNsYXNzIEhhcmRCcmljayBleHRlbmRzIEJyaWNrIHtcclxuXHRcclxuXHRoaXRDb3VudDogbnVtYmVyO1xyXG5cdFxyXG5cdGNvbnN0cnVjdG9yKGhhckJyaWNrOiBIVE1MRWxlbWVudCl7XHJcblx0XHRzdXBlcihoYXJCcmljaylcclxuXHRcdHRoaXMuaGl0Q291bnQgPSAwO1xyXG5cdH1cclxuXHJcbn1cclxuXHJcbmVudW0gR2FtZVN0YXRlIHtcclxuICAgIFJ1bm5pbmcsXHJcbiAgICBHYW1lT3ZlclxyXG59XHJcblxyXG5lbnVtIEtleUNvZGVzIHtcclxuICAgIExFRlQgPSAzNyxcclxuICAgIFJJR0hUID0gMzlcclxufVxyXG5cclxuY2xhc3MgR2FtZSB7XHJcbiAgICBsb29wSW50ZXJ2YWw6IG51bWJlciA9IDEwO1xyXG4gICAgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICBiYWxsOiBCYWxsO1xyXG4gICAgcGFkZGxlOiBQYWRkbGU7XHJcbiAgICBicmlja3M6IEFycmF5PEJyaWNrPiA9IFtdO1xyXG4gICAgaGFyZEJyaWNrczogQXJyYXk8SGFyZEJyaWNrPiA9IFtdO1xyXG5cclxuICAgIGtleU1hcCA9IHt9O1xyXG5cclxuICAgIHdhbGxMZWZ0IDogT2JzdGFjbGU7XHJcbiAgICB3YWxsVG9wOiBPYnN0YWNsZTtcclxuICAgIHdhbGxSaWdodDogT2JzdGFjbGU7XHJcbiAgICB3YWxsQm90dG9tOiBPYnN0YWNsZTsgICAgXHJcblxyXG4gICAgbGl2ZXNMZWZ0IDogbnVtYmVyO1xyXG4gICAgc2NvcmU6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihiYWxsRWxlbWVudCA6IEhUTUxFbGVtZW50LCBwYWRkbGU6IEhUTUxFbGVtZW50LCBicmlja3M6IEhUTUxDb2xsZWN0aW9uLCBoYXJkQnJpY2tzOiBIVE1MQ29sbGVjdGlvbiwgYm9hcmRFbGVtZW50IDogSFRNTEVsZW1lbnQsIHB1YmxpYyBsaXZlc0xhYmVsIDogSFRNTEVsZW1lbnQsXHJcbiAgICAgICAgcHVibGljIHNjb3JlTGFiZWw6IEhUTUxFbGVtZW50LCBwdWJsaWMgbmV3R2FtZUJ0bjogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZSA9IEdhbWVTdGF0ZS5SdW5uaW5nO1xyXG4gICAgICAgIHRoaXMucGFkZGxlID0gbmV3IFBhZGRsZShwYWRkbGUsIGJvYXJkRWxlbWVudC5vZmZzZXRXaWR0aCk7XHJcblxyXG4gICAgICAgIHRoaXMuYmFsbCA9IG5ldyBCYWxsKFxyXG4gICAgICAgICAgICBiYWxsRWxlbWVudCwgICAgICAgICAgICBcclxuICAgICAgICAgICAgbmV3IFZlY3RvcigzLCAtMykgXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBicmlja3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5icmlja3MucHVzaChuZXcgQnJpY2soPEhUTUxFbGVtZW50PmJyaWNrc1tpXSkpO1xyXG4gICAgICAgIH1cclxuXHRcdFxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBoYXJkQnJpY2tzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFyZEJyaWNrcy5wdXNoKG5ldyBIYXJkQnJpY2soPEhUTUxFbGVtZW50PmhhcmRCcmlja3NbaV0pKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlV2FsbHModGhpcy5iYWxsLnJhZGl1cywgYm9hcmRFbGVtZW50Lm9mZnNldFdpZHRoLCBib2FyZEVsZW1lbnQub2Zmc2V0SGVpZ2h0KTtcclxuXHJcbiAgICAgICAgdGhpcy5uZXdHYW1lKCk7XHJcblxyXG4gICAgICAgIHRoaXMubmV3R2FtZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMubmV3R2FtZSgpKTtcclxuICAgIH0gICAgXHJcblxyXG4gICAgY3JlYXRlV2FsbHMocmFkaXVzIDogbnVtYmVyLCBtYXhYIDogbnVtYmVyLCBtYXhZIDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy53YWxsTGVmdCA9IG5ldyBPYnN0YWNsZSgtcmFkaXVzLCAtcmFkaXVzLCAwLCBtYXhZICsgcmFkaXVzKTtcclxuICAgICAgICB0aGlzLndhbGxUb3AgPSBuZXcgT2JzdGFjbGUoLXJhZGl1cywgLXJhZGl1cywgbWF4WCArIHJhZGl1cywgMCk7XHJcbiAgICAgICAgdGhpcy53YWxsUmlnaHQgPSBuZXcgT2JzdGFjbGUobWF4WCwgLXJhZGl1cywgbWF4WCArIHJhZGl1cywgbWF4WSArIHJhZGl1cyk7XHJcbiAgICAgICAgdGhpcy53YWxsQm90dG9tID0gbmV3IE9ic3RhY2xlKC1yYWRpdXMsIG1heFksIG1heFggKyByYWRpdXMsIG1heFkgKyByYWRpdXMpOyAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgbmV3R2FtZSgpIHtcclxuICAgICAgICB0aGlzLm5ld0dhbWVCdG4uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB0aGlzLnNjb3JlID0gMDtcclxuICAgICAgICB0aGlzLmxpdmVzTGVmdCA9IDM7XHJcbiAgICAgICAgdGhpcy5saXZlc0xhYmVsLmlubmVyVGV4dCA9ICcnICsgdGhpcy5saXZlc0xlZnQ7XHJcbiAgICAgICAgdGhpcy5zY29yZSA9IDA7XHJcbiAgICAgICAgdGhpcy5zY29yZUxhYmVsLmlubmVyVGV4dCA9ICcnICsgdGhpcy5zY29yZTtcclxuICAgICAgICB0aGlzLmJhbGwuc2hvdygpO1xyXG4gICAgICAgIHRoaXMuYmFsbC5ib3VuY2VXaXRoQW5nbGUoNjApO1xyXG4gICAgICAgIHZhciBiYWxsUG9zaXRpb24gPSB0aGlzLmJhbGwuY2xvbmUoKTtcclxuICAgICAgICBiYWxsUG9zaXRpb24ubW92ZUNlbnRlclhUbyh0aGlzLnBhZGRsZS5jZW50ZXJYKCkpO1xyXG4gICAgICAgIGJhbGxQb3NpdGlvbi5tb3ZlQm90dG9tVG8odGhpcy5wYWRkbGUudG9wTGVmdC55IC0gNCk7XHJcbiAgICAgICAgdGhpcy5iYWxsLm1vdmVUbyhiYWxsUG9zaXRpb24pO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlID0gR2FtZVN0YXRlLlJ1bm5pbmc7XHJcbiAgICB9XHJcblxyXG4gICAgbG9zdExpdmUoKSB7XHJcbiAgICAgICAgaWYgKC0tdGhpcy5saXZlc0xlZnQpIHtcclxuICAgICAgICAgICAgdGhpcy5iYWxsLmJvdW5jZVdpdGhBbmdsZSg2MCk7XHJcbiAgICAgICAgICAgIHZhciBiYWxsUG9zaXRpb24gPSB0aGlzLmJhbGwuY2xvbmUoKTtcclxuICAgICAgICAgICAgYmFsbFBvc2l0aW9uLm1vdmVDZW50ZXJYVG8odGhpcy5wYWRkbGUuY2VudGVyWCgpKTtcclxuICAgICAgICAgICAgYmFsbFBvc2l0aW9uLm1vdmVCb3R0b21Ubyh0aGlzLnBhZGRsZS50b3BMZWZ0LnkgLSA0KTtcclxuICAgICAgICAgICAgdGhpcy5iYWxsLm1vdmVUbyhiYWxsUG9zaXRpb24pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0YXRlID0gR2FtZVN0YXRlLkdhbWVPdmVyO1xyXG4gICAgICAgICAgICB0aGlzLmJhbGwuaGlkZSgpOyAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5uZXdHYW1lQnRuLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOyAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubGl2ZXNMYWJlbC5pbm5lclRleHQgPSAnJyArIHRoaXMubGl2ZXNMZWZ0O1xyXG4gICAgfVxyXG5cclxuICAgIHJ1bigpIHtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChlKSA9PiB0aGlzLmtleU1hcFtlLmtleUNvZGVdID0gZmFsc2UpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4gdGhpcy5rZXlNYXBbZS5rZXlDb2RlXSA9IHRydWUpO1xyXG5cdFx0XHJcblx0XHRmb3IgKGxldCBoQnJpY2sgb2YgdGhpcy5oYXJkQnJpY2tzKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKGhCcmljaylcclxuXHRcdFx0XHJcblx0XHR9XHJcblxyXG4gICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5SdW5uaW5nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIG5ld0JhbGxQb3NpdGlvbiA9IHRoaXMuYmFsbC5jYWxjdWxhdGVOZXdQb3NpdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMua2V5TWFwW0tleUNvZGVzLkxFRlRdKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhZGRsZS5tb3ZlTGVmdCg1KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmtleU1hcFtLZXlDb2Rlcy5SSUdIVF0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFkZGxlLm1vdmVSaWdodCg1KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMud2FsbEJvdHRvbS5jaGVja0NvbGxpc2lvbihuZXdCYWxsUG9zaXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvc3RMaXZlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLndhbGxMZWZ0LmNoZWNrQ29sbGlzaW9uKG5ld0JhbGxQb3NpdGlvbikgfHwgdGhpcy53YWxsUmlnaHQuY2hlY2tDb2xsaXNpb24obmV3QmFsbFBvc2l0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iYWxsLmJvdW5jZVZlcnRpY2FsKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMud2FsbFRvcC5jaGVja0NvbGxpc2lvbihuZXdCYWxsUG9zaXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhbGwuYm91bmNlSG9yaXpvbnRhbCgpO1xyXG4gICAgICAgICAgICB9ICAgICBcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGJyaWNrIG9mIHRoaXMuYnJpY2tzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgd2FzSGl0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChicmljay5jaGVja0NvbGxpc2lvbihuZXdCYWxsUG9zaXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAoU2lkZS5MZWZ0KTpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIChTaWRlLlJpZ2h0KTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWxsLmJvdW5jZVZlcnRpY2FsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhc0hpdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIChTaWRlLlRvcCk6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAoU2lkZS5Cb3R0b20pOiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5ib3VuY2VIb3Jpem9udGFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhc0hpdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHdhc0hpdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyaWNrLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjb3JlICs9IDIwO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVMYWJlbC5pbm5lclRleHQgPSAnJyArIHRoaXMuc2NvcmU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHRcdFx0XHJcblx0XHRcdGZvciAobGV0IGhCcmljayBvZiB0aGlzLmhhcmRCcmlja3MpIHtcclxuXHRcclxuXHRcdFx0XHRcclxuXHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGhCcmljay5jaGVja0NvbGxpc2lvbihuZXdCYWxsUG9zaXRpb24pKSB7XHJcblx0XHRcdFx0XHRcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIChTaWRlLkxlZnQpOlx0XHRcdFx0XHRcdFxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgKFNpZGUuUmlnaHQpOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhbGwuYm91bmNlVmVydGljYWwoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5zY29yZSArPSAyMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaEJyaWNrLmhpdENvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOyAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIChTaWRlLlRvcCk6XHRcdFx0XHRcdFx0XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAoU2lkZS5Cb3R0b20pOiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5ib3VuY2VIb3Jpem9udGFsKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMuc2NvcmUgKz0gMjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhCcmljay5oaXRDb3VudCsrO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaEJyaWNrLmhpdENvdW50ID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaEJyaWNrLnNwcml0ZS5zdHlsZS5vcGFjaXR5ID0gXCIwLjVcIjtcclxuXHRcdFx0XHRcdHRoaXMuc2NvcmVMYWJlbC5pbm5lclRleHQgPSAnJyArIHRoaXMuc2NvcmU7XHJcblx0XHRcdFx0fVx0XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYgKGhCcmljay5oaXRDb3VudCA9PT0gMikge1xyXG5cdFx0XHRcdFx0aEJyaWNrLmhpZGUoKVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVMYWJlbC5pbm5lclRleHQgPSAnJyArIHRoaXMuc2NvcmU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBhZGRsZS5jaGVja0NvbGxpc2lvbihuZXdCYWxsUG9zaXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhbGwuYm91bmNlV2l0aEFuZ2xlKHRoaXMucGFkZGxlLmNhbGN1bGF0ZUhpdEFuZ2xlKHRoaXMuYmFsbC5jZW50ZXJYKCksIHRoaXMuYmFsbC5yYWRpdXMpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5iYWxsLm1vdmVUbyh0aGlzLmJhbGwuY2FsY3VsYXRlTmV3UG9zaXRpb24oKSk7XHJcbiAgICAgICB9LCB0aGlzLmxvb3BJbnRlcnZhbCkgXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnNvbGUubG9nKCdIZWxsbyBmcm9tIEJyaWNrQnVzdGVyICEhIScpO1xyXG5cclxudmFyIGdhbWUgPSBuZXcgR2FtZShcclxuICAgIDxIVE1MRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiYmFsbFwiKVswXSxcclxuICAgIDxIVE1MRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwicGFkZGxlXCIpWzBdLFxyXG4gICAgPEhUTUxDb2xsZWN0aW9uPmRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJicmlja1wiKSxcclxuICAgIDxIVE1MQ29sbGVjdGlvbj5kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaGFyZC1icmlja1wiKSxcclxuICAgIDxIVE1MRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZ2FtZS1ib2FyZFwiKVswXSxcclxuICAgIDxIVE1MRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGl2ZXMnKSxcclxuICAgIDxIVE1MRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NvcmUnKSxcclxuICAgIDxIVE1MRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3R2FtZScpICAgIFxyXG4pO1xyXG5cclxuZ2FtZS5ydW4oKTsiXX0=
